<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторна 6 - Введення</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="grid-container">
        <aside class="block block-1">
            <h3>Меню</h3>
            <nav>
                <ul>
                    <li><a href="index.html">Налаштування (Page 1)</a></li>
                    <li><a href="page2.html">Перегляд (Page 2)</a></li>
                </ul>
            </nav>
        </aside>

        <header class="block block-2">
            <div class="element-x">
                <h1>Налаштування Glitch</h1>
            </div>
        </header>

        <main class="block block-3">
            <h2>Параметри ефекту</h2>
            <form id="glitchForm" class="settings-form">
                <label>
                    Текст:
                    <input type="text" id="textInput" value="GLITCH" required>
                </label>
                <label>
                    Колір 1 (зсув вліво):
                    <input type="color" id="color1Input" value="#ff00ff">
                </label>
                <label>
                    Колір 2 (зсув вправо):
                    <input type="color" id="color2Input" value="#00ffff">
                </label>
                <label>
                    Розмір шрифту (px):
                    <input type="number" id="fontSizeInput" value="64" min="10" max="150">
                </label>
                <label>
                    Тривалість анімації (сек):
                    <input type="number" id="durationInput" value="2" step="0.1" min="0.1">
                </label>
                <button type="submit">Зберегти на сервер</button>
            </form>
            <p id="statusMessage" style="margin-top: 10px; color: green;"></p>
        </main>

        <div class="block block-4">
            <p>Панель управління</p>
        </div>

        <footer class="block block-5">
            <div class="element-y">
                <h2>Круті ефекти</h2>
            </div>
        </footer>
    </div>

    <script>
        
        document.getElementById('glitchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const data = {
                text: document.getElementById('textInput').value,
                color1: document.getElementById('color1Input').value,
                color2: document.getElementById('color2Input').value,
                fontSize: document.getElementById('fontSizeInput').value,
                duration: document.getElementById('durationInput').value
            };

            fetch('server.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                const msg = document.getElementById('statusMessage');
                msg.textContent = result.message;
                msg.style.color = result.status === 'success' ? 'green' : 'red';
                
                // Зникає через 3 секунди
                setTimeout(() => { msg.textContent = ''; }, 3000);
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>